(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stories"],{"0a06":function(t,e,n){"use strict";var r=n("c532"),o=n("30b5"),i=n("f6b4"),s=n("5270"),a=n("4a7b");function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=a(this.defaults,t),t.method=t.method?t.method.toLowerCase():"get";var e=[s,void 0],n=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=a(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=c},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"11e9":function(t,e,n){var r=n("52a7"),o=n("4630"),i=n("6821"),s=n("6a99"),a=n("69a8"),c=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=i(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},2444:function(t,e,n){"use strict";(function(e){var r=n("c532"),o=n("c8af"),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function a(){var t;return"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e)?t=n("b50d"):"undefined"!==typeof XMLHttpRequest&&(t=n("b50d")),t}var c={adapter:a(),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(i)})),t.exports=c}).call(this,n("f28c"))},"2d83":function(t,e,n){"use strict";var r=n("387f");t.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"30b5":function(t,e,n){"use strict";var r=n("c532");function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))})))})),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3934:function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},"467f":function(t,e,n){"use strict";var r=n("2d83");t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},"4a7b":function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){e=e||{};var n={};return r.forEach(["url","method","params","data"],(function(t){"undefined"!==typeof e[t]&&(n[t]=e[t])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):"undefined"!==typeof e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):"undefined"!==typeof t[o]&&(n[o]=t[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){"undefined"!==typeof e[r]?n[r]=e[r]:"undefined"!==typeof t[r]&&(n[r]=t[r])})),n}},5270:function(t,e,n){"use strict";var r=n("c532"),o=n("c401"),i=n("2e67"),s=n("2444"),a=n("d925"),c=n("e683");function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){u(t),t.baseURL&&!a(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||s.adapter;return e(t).then((function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},"5dbc":function(t,e,n){var r=n("d3f4"),o=n("8b97").set;t.exports=function(t,e,n){var i,s=e.constructor;return s!==n&&"function"==typeof s&&(i=s.prototype)!==n.prototype&&r(i)&&o&&o(t,i),t}},"7a77":function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"7aac":function(t,e,n){"use strict";var r=n("c532");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"8b97":function(t,e,n){var r=n("d3f4"),o=n("cb7c"),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},"8df4":function(t,e,n){"use strict";var r=n("7a77");function o(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t,e=new o((function(e){t=e}));return{token:e,cancel:t}},t.exports=o},9093:function(t,e,n){var r=n("ce10"),o=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},aa77:function(t,e,n){var r=n("5ca1"),o=n("be13"),i=n("79e5"),s=n("fdef"),a="["+s+"]",c="​",u=RegExp("^"+a+a+"*"),f=RegExp(a+a+"*$"),p=function(t,e,n){var o={},a=i((function(){return!!s[t]()||c[t]()!=c})),u=o[t]=a?e(l):s[t];n&&(o[n]=u),r(r.P+r.F*a,"String",o)},l=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(f,"")),t};t.exports=p},b50d:function(t,e,n){"use strict";var r=n("c532"),o=n("467f"),i=n("30b5"),s=n("c345"),a=n("3934"),c=n("2d83");t.exports=function(t){return new Promise((function(e,u){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",h=t.auth.password||"";p.Authorization="Basic "+btoa(d+":"+h)}if(l.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,l.onreadystatechange=function(){if(l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in l?s(l.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?l.response:l.responseText,i={data:r,status:l.status,statusText:l.statusText,headers:n,config:t,request:l};o(e,u,i),l=null}},l.onabort=function(){l&&(u(c("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){u(c("Network Error",t,null,l)),l=null},l.ontimeout=function(){u(c("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",l)),l=null},r.isStandardBrowserEnv()){var m=n("7aac"),y=(t.withCredentials||a(t.url))&&t.xsrfCookieName?m.read(t.xsrfCookieName):void 0;y&&(p[t.xsrfHeaderName]=y)}if("setRequestHeader"in l&&r.forEach(p,(function(t,e){"undefined"===typeof f&&"content-type"===e.toLowerCase()?delete p[e]:l.setRequestHeader(e,t)})),t.withCredentials&&(l.withCredentials=!0),t.responseType)try{l.responseType=t.responseType}catch(g){if("json"!==t.responseType)throw g}"function"===typeof t.onDownloadProgress&&l.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){l&&(l.abort(),u(t),l=null)})),void 0===f&&(f=null),l.send(f)}))}},bc3a:function(t,e,n){t.exports=n("cee4")},c345:function(t,e,n){"use strict";var r=n("c532"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,s={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},c401:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},c532:function(t,e,n){"use strict";var r=n("1d2b"),o=n("c7ce"),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function a(t){return"[object ArrayBuffer]"===i.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function f(t){return"string"===typeof t}function p(t){return"number"===typeof t}function l(t){return"undefined"===typeof t}function d(t){return null!==t&&"object"===typeof t}function h(t){return"[object Date]"===i.call(t)}function m(t){return"[object File]"===i.call(t)}function y(t){return"[object Blob]"===i.call(t)}function g(t){return"[object Function]"===i.call(t)}function v(t){return d(t)&&g(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function C(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=C(t[n],e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)x(arguments[n],e);return t}function S(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=S(t[n],e):t[n]="object"===typeof e?S({},e):e}for(var n=0,r=arguments.length;n<r;n++)x(arguments[n],e);return t}function E(t,e,n){return x(e,(function(e,o){t[o]=n&&"function"===typeof e?r(e,n):e})),t}t.exports={isArray:s,isArrayBuffer:a,isBuffer:o,isFormData:c,isArrayBufferView:u,isString:f,isNumber:p,isObject:d,isUndefined:l,isDate:h,isFile:m,isBlob:y,isFunction:g,isStream:v,isURLSearchParams:b,isStandardBrowserEnv:_,forEach:x,merge:C,deepMerge:S,extend:E,trim:w}},c5f6:function(t,e,n){"use strict";var r=n("7726"),o=n("69a8"),i=n("2d95"),s=n("5dbc"),a=n("6a99"),c=n("79e5"),u=n("9093").f,f=n("11e9").f,p=n("86cc").f,l=n("aa77").trim,d="Number",h=r[d],m=h,y=h.prototype,g=i(n("2aeb")(y))==d,v="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():l(e,3);var n,r,o,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var s,c=e.slice(2),u=0,f=c.length;u<f;u++)if(s=c.charCodeAt(u),s<48||s>o)return NaN;return parseInt(c,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(g?c((function(){y.valueOf.call(n)})):i(n)!=d)?s(new m(b(e)),n,h):b(e)};for(var w,_=n("9e1e")?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)o(m,w=_[x])&&!o(h,w)&&p(h,w,f(m,w));h.prototype=y,y.constructor=h,n("2aba")(r,d,h)}},c7ce:function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},c8af:function(t,e,n){"use strict";var r=n("c532");t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},cee4:function(t,e,n){"use strict";var r=n("c532"),o=n("1d2b"),i=n("0a06"),s=n("4a7b"),a=n("2444");function c(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=c(a);u.Axios=i,u.create=function(t){return c(s(u.defaults,t))},u.Cancel=n("7a77"),u.CancelToken=n("8df4"),u.isCancel=n("2e67"),u.all=function(t){return Promise.all(t)},u.spread=n("0df6"),t.exports=u,t.exports.default=u},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},dcfc:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stories"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("ul",{staticClass:"pagination justify-content-center"},[n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link btn-link",class:{disabled:!t.pagination.prev_page_url},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.fetchStories(t.pagination.prev_page_url)}}},[t._v("Предыдущая страница")])]),t._l(t.pagination.page_range,(function(e){return n("li",{key:e,staticClass:"page-item",class:{active:e===t.pagination.current_page}},[n("a",{staticClass:"page-link",attrs:{href:""},on:{click:function(n){return n.preventDefault(),t.fetchStories("/api/stories/?page="+e)}}},[t._v(t._s(e))])])})),n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link btn-link",class:{disabled:!t.pagination.next_page_url},attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.fetchStories(t.pagination.next_page_url)}}},[t._v("Следующая страница")])])],2)])])]),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("table",{staticClass:"table table-striped"},[t._m(0),t._l(t.stories,(function(t,e){return n("story",{key:e,tag:"tr",attrs:{story:t,index:e}})}))],2),n("p",{staticClass:"lead"},[t._v("\n          Вот список всех ваших историй.\n          "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.createStory()}}},[t._v("Добавить новую историю?")])]),n("pre",[t._v(t._s(t.$data))])])])])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("#")]),n("th",[t._v("Сюжет")]),n("th",[t._v("Автор")]),n("th",[t._v("Кол-во голосов")]),n("th",[t._v("Действия")])])}],i=n("bc3a"),s=n.n(i),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(t._s(t.index+1))]),n("td",[t.story.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:t.story.plot,expression:"story.plot"}],staticClass:"form-control",domProps:{value:t.story.plot},on:{input:function(e){e.target.composing||t.$set(t.story,"plot",e.target.value)}}}):n("span",[t._v(t._s(t.story.plot))])]),n("td",[t.story.editing?n("input",{directives:[{name:"model",rawName:"v-model",value:t.story.writer,expression:"story.writer"}],staticClass:"form-control",domProps:{value:t.story.writer},on:{input:function(e){e.target.composing||t.$set(t.story,"writer",e.target.value)}}}):n("span",[t._v(t._s(t.story.writer))])]),n("td",[t._v(t._s(t.story.upvotes))]),n("td",[t.story.editing?n("div",{staticClass:"btn-group"},[t.story.uuid?n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.updateStory(t.story)}}},[t._v("Обновить историю")]):n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){return t.storeStory(t.story)}}},[t._v("Сохранить историю")]),n("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){t.story.editing=!1}}},[t._v("Отмена")])]):n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.upvoteStory(t.story)}}},[t._v("Проголосовать")]),n("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){return t.editStory(t.story)}}},[t._v("Редактировать")]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteStory(t.story)}}},[t._v("Удалить")])])])])},c=[],u=(n("c5f6"),document.getElementsByName("csrfmiddlewaretoken")[0].value),f={name:"Story",props:{story:Object,index:Number},methods:{upvoteStory:function(t){t.upvotes++,s()({method:"patch",url:"/api/stories/".concat(t.uuid,"/"),data:t,headers:{"X-CSRFTOKEN":u}})},updateStory:function(t){s.a.patch("/api/stories/".concat(t.uuid,"/"),t,{headers:{"X-CSRFTOKEN":u}}),t.editing=!1},deleteStory:function(t){var e=this.$parent.stories.indexOf(t);this.$parent.stories.splice(e,1),s.a.delete("/api/stories/".concat(t.uuid),{headers:{"X-CSRFTOKEN":u}})},storeStory:function(t){s.a.post("/api/stories/",t,{headers:{"X-CSRFTOKEN":u}}).then((function(e){t.editing=!1,t.uuid=e.data.uuid}))},editStory:function(t){t.editing=!0}}},p=f,l=n("2877"),d=Object(l["a"])(p,a,c,!1,null,null,null),h=d.exports,m={name:"stories",components:{Story:h},data:function(){return{stories:[],pagination:{}}},methods:{fetchStories:function(t){var e=this;t=t||"api/stories",s.a.get(t).then((function(t){var n=t.data.results.map((function(t){return t.editing=!1,t}));e.makePagination(t.data),e.stories=n}))},makePagination:function(t){var e={current_page:t.current_page,last_page:t.last_page,next_page_url:t.next_page_url,prev_page_url:t.prev_page_url,page_range:t.page_range};this.pagination=e},createStory:function(){var t={plot:"",upvotes:0,editing:!0};this.stories.push(t)}},mounted:function(){this.fetchStories()}},y=m,g=Object(l["a"])(y,r,o,!1,null,null,null);e["default"]=g.exports},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},f28c:function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}})();var u,f=[],p=!1,l=-1;function d(){p&&u&&(p=!1,u.length?f=u.concat(f):l=-1,f.length&&h())}function h(){if(!p){var t=a(d);p=!0;var e=f.length;while(e){u=f,f=[];while(++l<e)u&&u[l].run();l=-1,e=f.length}u=null,p=!1,c(t)}}function m(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new m(t,e)),1!==f.length||p||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},f6b4:function(t,e,n){"use strict";var r=n("c532");function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=stories.ebcc51de.js.map